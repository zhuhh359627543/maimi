<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>优质大米批发商城</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: #8bc34a;
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 5px;
            margin-bottom: 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .category-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .category-tab {
            padding: 10px 20px;
            background-color: #f0f0f0;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            border-radius: 30px;
            transition: all 0.3s ease;
        }
        
        .category-tab.active {
            background-color: #8bc34a;
            color: white;
        }
        
        .category-tab:hover:not(.active) {
            background-color: #e0e0e0;
        }
        
        .products-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .product-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .product-info {
            padding: 15px;
        }
        
        .product-name {
            font-size: 1.2rem;
            margin-bottom: 8px;
            color: #333;
        }
        
        .product-origin {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .product-desc {
            color: #777;
            font-size: 0.95rem;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: #f0f0f0;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
        }
        
        .quantity-input {
            width: 50px;
            height: 30px;
            text-align: center;
            margin: 0 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .add-to-cart {
            width: 100%;
            padding: 10px;
            background-color: #8bc34a;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        .add-to-cart:hover {
            background-color: #7cb342;
        }
        
        .cart-container {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            margin-top: 40px;
        }
        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .cart-title {
            font-size: 1.5rem;
            color: #333;
        }
        
        .copy-cart-btn {
            padding: 8px 15px;
            background-color: #2196F3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }
        
        .copy-cart-btn:hover {
            background-color: #0d8bf2;
        }
        
        .cart-items {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item:last-child {
            border-bottom: none;
        }
        
        .cart-item-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
            margin-right: 15px;
        }
        
        .cart-item-details {
            flex-grow: 1;
        }
        
        .cart-item-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .cart-item-quantity {
            color: #666;
            font-size: 0.9rem;
        }
        
        .remove-item {
            color: #f44336;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            margin-left: 15px;
        }
        
        .empty-cart {
            text-align: center;
            color: #777;
            padding: 30px 0;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 4px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }
        
        .notification.show {
            opacity: 1;
        }
        
        @media (max-width: 768px) {
            .products-container {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            }
            
            h1 {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            .products-container {
                grid-template-columns: 1fr;
            }
            
            .category-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .category-tab {
                width: 80%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>优质大米批发商城</h1>
            <p class="subtitle">专业批发各种优质大米 · 厂家直供 · 品质保证</p>
        </header>
        
        <div class="category-tabs">
            <button class="category-tab active" data-category="new">上新产品</button>
            <button class="category-tab" data-category="all">全部产品</button>
            <button class="category-tab" data-category="japan">日本米</button>
            <button class="category-tab" data-category="thai">泰国米</button>
            <button class="category-tab" data-category="china">中国米</button>
            <button class="category-tab" data-category="india">印度米</button>
            <button class="category-tab" data-category="organic">有机米</button>
            <button class="category-tab" data-category="glutinous">糯米</button>
        </div>
        
        <div class="products-container" id="products-container">
            <!-- 产品将通过JavaScript动态加载 -->
        </div>
        
        <div class="cart-container">
            <div class="cart-header">
                <h2 class="cart-title">购物车</h2>
                <button class="copy-cart-btn" id="copy-cart-btn">复制购物清单</button>
            </div>
            <div class="cart-items" id="cart-items">
                <div class="empty-cart">购物车是空的</div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification">商品已添加到购物车</div>
    
    <script>
        // 大米产品数据 (实际应用中可以从远程JSON加载)
        const riceProducts = {
            "products": [
                {
                    "id": 1,
                    "name": "日本越光米",
                    "category": ["new", "japan"],
                    "origin": "日本新潟县",
                    "description": "越光米是日本最著名的高级米种，米粒饱满，口感软糯香甜，适合制作寿司和日式料理。",
                    "image": "https://images.unsplash.com/photo-1604977047418-9e040b6a61f8?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 2,
                    "name": "泰国茉莉香米",
                    "category": ["new", "thai"],
                    "origin": "泰国东北部",
                    "description": "茉莉香米以其独特的香气和松软的口感闻名，煮熟后散发出类似茉莉花的清香。",
                    "image": "https://images.unsplash.com/photo-1518977676601-b53f82aba655?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 3,
                    "name": "五常稻花香米",
                    "category": ["china"],
                    "origin": "中国黑龙江五常",
                    "description": "中国顶级大米之一，米粒晶莹剔透，煮熟后香气浓郁，口感绵软有弹性。",
                    "image": "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 4,
                    "name": "印度巴斯马蒂米",
                    "category": ["india"],
                    "origin": "印度旁遮普邦",
                    "description": "世界上最长的香米，煮熟后米粒会伸长2-3倍，具有独特的坚果香气。",
                    "image": "https://images.unsplash.com/photo-1586201375761-83865001e1ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 5,
                    "name": "有机糙米",
                    "category": ["organic"],
                    "origin": "中国东北",
                    "description": "未经精磨的有机糙米，保留了米糠和胚芽，富含膳食纤维和维生素B族。",
                    "image": "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 6,
                    "name": "黑糯米",
                    "category": ["glutinous"],
                    "origin": "中国广西",
                    "description": "富含花青素的特色糯米，颜色紫黑，口感软糯香甜，适合制作甜品和药膳。",
                    "image": "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 7,
                    "name": "日本梦美人米",
                    "category": ["japan"],
                    "origin": "日本北海道",
                    "description": "北海道特产米种，米粒大而饱满，口感Q弹，冷饭也不易变硬。",
                    "image": "https://images.unsplash.com/photo-1604977047418-9e040b6a61f8?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 8,
                    "name": "泰国红茉莉米",
                    "category": ["thai"],
                    "origin": "泰国北部",
                    "description": "红米与茉莉香米的杂交品种，富含抗氧化物质，带有淡淡的坚果香气。",
                    "image": "https://images.unsplash.com/photo-1518977676601-b53f82aba655?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 9,
                    "name": "盘锦蟹田米",
                    "category": ["china"],
                    "origin": "中国辽宁盘锦",
                    "description": "在养蟹的稻田中种植，蟹的排泄物成为天然肥料，米粒饱满，带有独特的鲜甜味。",
                    "image": "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 10,
                    "name": "印度红米",
                    "category": ["india", "organic"],
                    "origin": "印度喀拉拉邦",
                    "description": "传统红米品种，富含铁质和抗氧化物质，口感略带嚼劲，适合健康饮食。",
                    "image": "https://images.unsplash.com/photo-1586201375761-83865001e1ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 11,
                    "name": "有机胚芽米",
                    "category": ["organic"],
                    "origin": "中国吉林",
                    "description": "保留80%以上胚芽的精米，营养丰富，口感介于糙米和白米之间。",
                    "image": "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 12,
                    "name": "白糯米",
                    "category": ["glutinous"],
                    "origin": "中国江苏",
                    "description": "传统糯米品种，粘性十足，适合制作粽子、年糕、汤圆等传统食品。",
                    "image": "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 13,
                    "name": "日本七星米",
                    "category": ["japan"],
                    "origin": "日本北海道",
                    "description": "北海道顶级米种，米粒均匀，口感柔软而有弹性，冷饭也保持良好口感。",
                    "image": "https://images.unsplash.com/photo-1604977047418-9e040b6a61f8?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 14,
                    "name": "泰国黑香米",
                    "category": ["thai", "organic"],
                    "origin": "泰国北部",
                    "description": "富含花青素的泰国特色米种，煮熟后散发特殊香气，营养价值高。",
                    "image": "https://images.unsplash.com/photo-1518977676601-b53f82aba655?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                },
                {
                    "id": 15,
                    "name": "东北长粒香米",
                    "category": ["china"],
                    "origin": "中国东北",
                    "description": "东北优质长粒米，米粒细长，煮熟后松散不粘，香气浓郁。",
                    "image": "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                }
            ]
        };

        // 从远程加载JSON数据的函数 (示例)
        async function loadProductsFromRemote() {
            try {
                // 实际应用中替换为您的远程JSON URL
                // const response = await fetch('https://example.com/api/rice-products');
                // const data = await response.json();
                // return data;
                
                // 这里我们直接返回本地数据作为示例
                return riceProducts;
            } catch (error) {
                console.error('加载产品数据失败:', error);
                return riceProducts; // 失败时返回本地数据
            }
        }

        // 购物车状态
        let cart = [];

        // DOM元素
        const productsContainer = document.getElementById('products-container');
        const cartItemsContainer = document.getElementById('cart-items');
        const copyCartBtn = document.getElementById('copy-cart-btn');
        const notification = document.getElementById('notification');
        const categoryTabs = document.querySelectorAll('.category-tab');

        // 显示产品函数
        function displayProducts(products) {
            productsContainer.innerHTML = '';
            
            if (products.length === 0) {
                productsContainer.innerHTML = '<p style="grid-column:1/-1;text-align:center;">暂无此类产品</p>';
                return;
            }
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-origin">产地: ${product.origin}</p>
                        <p class="product-desc">${product.description}</p>
                        <div class="quantity-control">
                            <button class="quantity-btn minus" data-id="${product.id}">-</button>
                            <input type="number" class="quantity-input" value="1" min="1" data-id="${product.id}">
                            <button class="quantity-btn plus" data-id="${product.id}">+</button>
                        </div>
                        <button class="add-to-cart" data-id="${product.id}">加入购物车</button>
                    </div>
                `;
                productsContainer.appendChild(productCard);
            });
            
            // 添加事件监听器
            document.querySelectorAll('.add-to-cart').forEach(btn => {
                btn.addEventListener('click', addToCart);
            });
            
            document.querySelectorAll('.quantity-btn.minus').forEach(btn => {
                btn.addEventListener('click', decreaseQuantity);
            });
            
            document.querySelectorAll('.quantity-btn.plus').forEach(btn => {
                btn.addEventListener('click', increaseQuantity);
            });
        }

        // 按分类筛选产品
        function filterProductsByCategory(category) {
            if (category === 'all') {
                return riceProducts.products;
            } else {
                return riceProducts.products.filter(product => 
                    product.category.includes(category)
                );
            }
        }

        // 更新购物车显示
        function updateCartDisplay() {
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<div class="empty-cart">购物车是空的</div>';
                return;
            }
            
            cartItemsContainer.innerHTML = '';
            
            cart.forEach(item => {
                const product = riceProducts.products.find(p => p.id === item.id);
                if (product) {
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="cart-item-image">
                        <div class="cart-item-details">
                            <div class="cart-item-name">${product.name}</div>
                            <div class="cart-item-quantity">数量: ${item.quantity}</div>
                        </div>
                        <button class="remove-item" data-id="${product.id}">×</button>
                    `;
                    cartItemsContainer.appendChild(cartItem);
                }
            });
            
            // 添加移除按钮事件监听器
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', removeFromCart);
            });
        }

        // 添加到购物车
        function addToCart(e) {
            const productId = parseInt(e.target.getAttribute('data-id'));
            const quantityInput = document.querySelector(`.quantity-input[data-id="${productId}"]`);
            const quantity = parseInt(quantityInput.value);
            
            if (isNaN(quantity) ){
                showNotification('请输入有效的数量');
                return;
            }
            
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: productId,
                    quantity: quantity
                });
            }
            
            updateCartDisplay();
            showNotification(`${quantity}件商品已添加到购物车`);
        }

        // 从购物车移除
        function removeFromCart(e) {
            const productId = parseInt(e.target.getAttribute('data-id'));
            cart = cart.filter(item => item.id !== productId);
            updateCartDisplay();
            showNotification('商品已从购物车移除');
        }

        // 增加数量
        function increaseQuantity(e) {
            const productId = parseInt(e.target.getAttribute('data-id'));
            const input = document.querySelector(`.quantity-input[data-id="${productId}"]`);
            input.value = parseInt(input.value) + 1;
        }

        // 减少数量
        function decreaseQuantity(e) {
            const productId = parseInt(e.target.getAttribute('data-id'));
            const input = document.querySelector(`.quantity-input[data-id="${productId}"]`);
            if (parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }

        // 显示通知
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // 复制购物清单
        function copyCartToClipboard() {
            if (cart.length === 0) {
                showNotification('购物车是空的');
                return;
            }
            
            let cartText = '=== 大米批发购物清单 ===\n\n';
            
            cart.forEach(item => {
                const product = riceProducts.products.find(p => p.id === item.id);
                if (product) {
                    cartText += `${product.name} × ${item.quantity}\n`;
                }
            });
            
            cartText += `\n总计: ${cart.reduce((sum, item) => sum + item.quantity, 0)} 件商品`;
            
            navigator.clipboard.writeText(cartText)
                .then(() => showNotification('购物清单已复制到剪贴板'))
                .catch(() => showNotification('复制失败，请手动复制'));
        }

        // 初始化
        async function init() {
            // 加载产品数据
            const productsData = await loadProductsFromRemote();
            riceProducts.products = productsData.products || riceProducts.products;
            
            // 默认显示新产品
            displayProducts(filterProductsByCategory('new'));
            
            // 分类标签点击事件
            categoryTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    categoryTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    const category = tab.getAttribute('data-category');
                    displayProducts(filterProductsByCategory(category));
                });
            });
            
            // 复制购物车按钮
            copyCartBtn.addEventListener('click', copyCartToClipboard);
        }

        // 启动应用
        init();
    </script>
</body>
</html>